{"version":3,"sources":["webpack://module.exports/webpack/bootstrap","webpack://module.exports/./forum.js","webpack://module.exports/./node_modules/@babel/runtime/core-js/object/create.js","webpack://module.exports/./node_modules/@babel/runtime/core-js/object/keys.js","webpack://module.exports/./node_modules/@babel/runtime/helpers/es6/inheritsLoose.js","webpack://module.exports/./node_modules/core-js/library/fn/object/create.js","webpack://module.exports/./node_modules/core-js/library/fn/object/keys.js","webpack://module.exports/./node_modules/core-js/library/modules/_a-function.js","webpack://module.exports/./node_modules/core-js/library/modules/_an-object.js","webpack://module.exports/./node_modules/core-js/library/modules/_array-includes.js","webpack://module.exports/./node_modules/core-js/library/modules/_cof.js","webpack://module.exports/./node_modules/core-js/library/modules/_core.js","webpack://module.exports/./node_modules/core-js/library/modules/_ctx.js","webpack://module.exports/./node_modules/core-js/library/modules/_defined.js","webpack://module.exports/./node_modules/core-js/library/modules/_descriptors.js","webpack://module.exports/./node_modules/core-js/library/modules/_dom-create.js","webpack://module.exports/./node_modules/core-js/library/modules/_enum-bug-keys.js","webpack://module.exports/./node_modules/core-js/library/modules/_export.js","webpack://module.exports/./node_modules/core-js/library/modules/_fails.js","webpack://module.exports/./node_modules/core-js/library/modules/_global.js","webpack://module.exports/./node_modules/core-js/library/modules/_has.js","webpack://module.exports/./node_modules/core-js/library/modules/_hide.js","webpack://module.exports/./node_modules/core-js/library/modules/_html.js","webpack://module.exports/./node_modules/core-js/library/modules/_ie8-dom-define.js","webpack://module.exports/./node_modules/core-js/library/modules/_iobject.js","webpack://module.exports/./node_modules/core-js/library/modules/_is-object.js","webpack://module.exports/./node_modules/core-js/library/modules/_library.js","webpack://module.exports/./node_modules/core-js/library/modules/_object-create.js","webpack://module.exports/./node_modules/core-js/library/modules/_object-dp.js","webpack://module.exports/./node_modules/core-js/library/modules/_object-dps.js","webpack://module.exports/./node_modules/core-js/library/modules/_object-keys-internal.js","webpack://module.exports/./node_modules/core-js/library/modules/_object-keys.js","webpack://module.exports/./node_modules/core-js/library/modules/_object-sap.js","webpack://module.exports/./node_modules/core-js/library/modules/_property-desc.js","webpack://module.exports/./node_modules/core-js/library/modules/_shared-key.js","webpack://module.exports/./node_modules/core-js/library/modules/_shared.js","webpack://module.exports/./node_modules/core-js/library/modules/_to-absolute-index.js","webpack://module.exports/./node_modules/core-js/library/modules/_to-integer.js","webpack://module.exports/./node_modules/core-js/library/modules/_to-iobject.js","webpack://module.exports/./node_modules/core-js/library/modules/_to-length.js","webpack://module.exports/./node_modules/core-js/library/modules/_to-object.js","webpack://module.exports/./node_modules/core-js/library/modules/_to-primitive.js","webpack://module.exports/./node_modules/core-js/library/modules/_uid.js","webpack://module.exports/./node_modules/core-js/library/modules/es6.object.create.js","webpack://module.exports/./node_modules/core-js/library/modules/es6.object.keys.js","webpack://module.exports/./src/common/helpers/rankLabel.js","webpack://module.exports/./src/common/models/Rank.js","webpack://module.exports/./src/forum/components/AddAttributes.js","webpack://module.exports/./src/forum/components/AddHotnessSort.js","webpack://module.exports/./src/forum/components/AddVoteButtons.js","webpack://module.exports/./src/forum/components/RankingsPage.js","webpack://module.exports/./src/forum/components/VoteNotification.js","webpack://module.exports/./src/forum/components/VotesModal.js","webpack://module.exports/./src/forum/index.js","webpack://module.exports/external \"flarum.core.compat['Model']\"","webpack://module.exports/external \"flarum.core.compat['app']\"","webpack://module.exports/external \"flarum.core.compat['components/AvatarEditor']\"","webpack://module.exports/external \"flarum.core.compat['components/Button']\"","webpack://module.exports/external \"flarum.core.compat['components/CommentPost']\"","webpack://module.exports/external \"flarum.core.compat['components/DiscussionList']\"","webpack://module.exports/external \"flarum.core.compat['components/Dropdown']\"","webpack://module.exports/external \"flarum.core.compat['components/IndexPage']\"","webpack://module.exports/external \"flarum.core.compat['components/LinkButton']\"","webpack://module.exports/external \"flarum.core.compat['components/LoadingIndicator']\"","webpack://module.exports/external \"flarum.core.compat['components/LogInModal']\"","webpack://module.exports/external \"flarum.core.compat['components/Modal']\"","webpack://module.exports/external \"flarum.core.compat['components/Notification']\"","webpack://module.exports/external \"flarum.core.compat['components/Page']\"","webpack://module.exports/external \"flarum.core.compat['components/PostUser']\"","webpack://module.exports/external \"flarum.core.compat['components/UserCard']\"","webpack://module.exports/external \"flarum.core.compat['extend']\"","webpack://module.exports/external \"flarum.core.compat['helpers/avatar']\"","webpack://module.exports/external \"flarum.core.compat['helpers/listItems']\"","webpack://module.exports/external \"flarum.core.compat['helpers/userOnline']\"","webpack://module.exports/external \"flarum.core.compat['helpers/username']\"","webpack://module.exports/external \"flarum.core.compat['models/Discussion']\"","webpack://module.exports/external \"flarum.core.compat['models/Post']\"","webpack://module.exports/external \"flarum.core.compat['models/User']\"","webpack://module.exports/external \"flarum.core.compat['utils/ItemList']\"","webpack://module.exports/external \"flarum.core.compat['utils/PostControls']\"","webpack://module.exports/external \"flarum.core.compat['utils/UserControls']\"","webpack://module.exports/external \"flarum.core.compat['utils/mixin']\""],"names":["rankLabel","rank","attrs","style","className","color","backgroundColor","m","name","Rank","points","attribute","Discussion","prototype","canVote","canSeeVotes","votes","User","ranks","hasMany","Post","upvotes","downvotes","extend","items","user","app","forum","replace","props","data","attributes","Points","translator","trans","add","UserCard","view","controls","toArray","badges","length","component","children","menuClassName","buttonClassName","controlsButtonClassName","label","icon","editable","route","reverse","map","i","infoItems","PostUser","post","card","isHidden","cardVisible","IndexPage","viewItems","sortMap","cache","discussionList","sortOptions","dropDownLabel","params","sort","key","test","value","active","redraw","onclick","changeSort","bind","href","filter","hot","q","x","isInitialized","context","pusher","then","channels","main","userId","parseInt","session","id","startComputation","postId","upData","upvotedata","downData","downvotedata","before","removeVote","after","unshift","type","strategy","endComputation","unbind","discussion","modal","show","prop","relationships","isUpvoted","some","isDownvoted","vote","splice","themePrimaryColor","disabled","save","upvote","downvote","RankingsPage","init","canViewRankingPage","loading","users","refresh","loadMore","hero","affixSidebar","sidebarItems","addOrdinalSuffix","clear","loadResults","results","parseResults","j","k","stickyParams","param","actionItems","title","store","find","newDiscussion","deferred","composeNewDiscussion","onlogin","promise","DiscussionComposer","composer","load","resolve","offset","page","limit","push","apply","a","b","parseFloat","lazyRedraw","UpvotedNotification","notification","content","subject","username","fromUser","excerpt","contentPlain","VotesModal","initializers","models","notificationComponents","routes","rankings","path","AddVoteButtons","AddHotnessFilter","AddAttributes"],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;;;;;;AClFA;;;;;;;;AASA;;;;;;;;;;;;ACTA,mI;;;;;;;;;;;ACAA,+H;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AACA;;;;;;;;;;;;ACDA;AACA;AACA;AACA;;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,YAAY,eAAe;AAChC;AACA,KAAK;AACL;AACA;;;;;;;;;;;;ACtBA,iBAAiB;;AAEjB;AACA;AACA;;;;;;;;;;;;ACJA,6BAA6B;AAC7B,uCAAuC;;;;;;;;;;;;ACDvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AACA;AACA,iCAAiC,QAAQ,mBAAmB,UAAU,EAAE,EAAE;AAC1E,CAAC;;;;;;;;;;;;ACHD;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE;AACjE;AACA,kFAAkF;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,cAAc;AACd,cAAc;AACd,cAAc;AACd,eAAe;AACf,eAAe;AACf,eAAe;AACf,gBAAgB;AAChB;;;;;;;;;;;;AC7DA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA,yCAAyC;;;;;;;;;;;;ACLzC,uBAAuB;AACvB;AACA;AACA;;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;;;;;;;;;;;ACPA;AACA;;;;;;;;;;;;ACDA;AACA,+IAAsE,mBAAmB,UAAU,EAAE,EAAE;AACvG,CAAC;;;;;;;;;;;;ACFD;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACLA;AACA;AACA;;;;;;;;;;;;ACFA;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;;;;;;;;;;ACxCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.js\");\n","/*\r\n * This file is part of Flarum.\r\n *\r\n * (c) Toby Zerner <toby.zerner@gmail.com>\r\n *\r\n * For the full copyright and license information, please view the LICENSE\r\n * file that was distributed with this source code.\r\n */\r\n\r\nexport * from './src/common';\r\nexport * from './src/forum';","module.exports = require(\"core-js/library/fn/object/create\");","module.exports = require(\"core-js/library/fn/object/keys\");","import _Object$create from \"../../core-js/object/create\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = _Object$create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var core = module.exports = { version: '2.5.7' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","module.exports = true;\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: 'Â© 2018 Denis Pushkarev (zloirock.ru)'\n});\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","export default function rankLabel(rank, attrs = {}) {\r\n  attrs.style = attrs.style || {};\r\n  attrs.className = 'rankLabel ' + (attrs.className || '');\r\n\r\n  const color = rank.color();\r\n  attrs.style.backgroundColor = attrs.style.color = color;\r\n  attrs.className += ' colored';\r\n\r\n  return (\r\n    m('span', attrs,\r\n      <span className=\"rankLabel-text\">\r\n        {rank.name()}\r\n      </span>\r\n    )\r\n  );\r\n}","import Model from 'flarum/Model';\r\nimport mixin from 'flarum/utils/mixin';\r\n\r\nexport default class Rank extends mixin(Model, {\r\n  points: Model.attribute('points'),\r\n  name: Model.attribute('name'),\r\n  color: Model.attribute('color')\r\n}) {}","import {extend} from \"flarum/extend\";\r\nimport avatar from \"flarum/helpers/avatar\";\r\nimport AvatarEditor from \"flarum/components/AvatarEditor\";\r\nimport username from \"flarum/helpers/username\";\r\nimport Discussion from \"flarum/models/Discussion\";\r\nimport Dropdown from \"flarum/components/Dropdown\";\r\nimport listItems from 'flarum/helpers/listItems';\r\nimport Model from \"flarum/Model\";\r\nimport Post from \"flarum/models/Post\";\r\nimport PostUser from \"flarum/components/PostUser\";\r\nimport User from \"flarum/models/User\";\r\nimport UserCard from \"flarum/components/UserCard\";\r\nimport UserControls from \"flarum/utils/UserControls\";\r\nimport userOnline from \"flarum/helpers/userOnline\";\r\nimport rankLabel from \"../../common/helpers/rankLabel\";\r\n\r\nexport default function () {\r\n    Discussion.prototype.canVote = Model.attribute('canVote');\r\n    Discussion.prototype.canSeeVotes = Model.attribute('canSeeVotes');\r\n    Discussion.prototype.votes = Model.attribute('votes');\r\n\r\n    User.prototype.points = Model.attribute('points');\r\n    User.prototype.ranks = Model.hasMany('ranks');\r\n\r\n    Post.prototype.upvotes = Model.hasMany('upvotes');\r\n    Post.prototype.downvotes = Model.hasMany('downvotes');\r\n\r\n    extend(UserCard.prototype, 'infoItems', function (items, user) {\r\n        let points = '';\r\n\r\n        if (points == 0) {\r\n            points = '0';\r\n        }\r\n\r\n        if (app.forum.attribute('PointsPlaceholder')) {\r\n            points = app.forum.attribute('PointsPlaceholder').replace('{points}', this.props.user.data.attributes.Points);\r\n        } else {\r\n            points = app.translator.trans('reflar-gamification.forum.user.points', {points: this.props.user.data.attributes.Points});\r\n        }\r\n\r\n        items.add('points',\r\n            points\r\n        );\r\n    });\r\n\r\n    UserCard.prototype.view = function () {\r\n        const user = this.props.user;\r\n        const controls = UserControls.controls(user, this).toArray();\r\n        const color = user.color();\r\n        const badges = user.badges().toArray();\r\n\r\n        return (\r\n            <div className={'UserCard ' + (this.props.className || '')}\r\n                 style={color ? {backgroundColor: color} : ''}>\r\n                <div className=\"darkenBackground\">\r\n\r\n                    <div className=\"container\">\r\n                        {controls.length ? Dropdown.component({\r\n                            children: controls,\r\n                            className: 'UserCard-controls App-primaryControl',\r\n                            menuClassName: 'Dropdown-menu--right',\r\n                            buttonClassName: this.props.controlsButtonClassName,\r\n                            label: app.translator.trans('core.forum.user_controls.button'),\r\n                            icon: 'fas fa-ellipsis-v'\r\n                        }) : ''}\r\n\r\n                        <div className=\"UserCard-profile\">\r\n                            <h2 className=\"UserCard-identity\">\r\n                                {this.props.editable\r\n                                    ? [AvatarEditor.component({user, className: 'UserCard-avatar'}), username(user)]\r\n                                    : (\r\n                                        <a href={app.route.user(user)} config={m.route}>\r\n                                            <div className=\"UserCard-avatar\">{avatar(user)}</div>\r\n                                            {username(user)}\r\n                                        </a>\r\n                                    )}\r\n                            </h2>\r\n\r\n                            {badges.length ? (\r\n                                    <ul className=\"UserCard-badges badges\">\r\n                                        {listItems(badges)}\r\n                                        {user.ranks() !== false ? (\r\n                                                user.ranks().reverse().map((rank, i) => {\r\n                                                    if (i >= app.forum.attribute('ranksAmt') && app.forum.attribute('ranksAmt') !== null) {\r\n\r\n                                                    } else {\r\n                                                        return (\r\n                                                            <li className=\"User-Rank\">\r\n                                                                {rankLabel(rank)}\r\n                                                            </li>\r\n                                                        );\r\n                                                    }\r\n                                                })\r\n                                            ) : '' }\r\n                                    </ul>\r\n                                ) : ''}\r\n                            <ul className=\"UserCard-info\">\r\n                                {listItems(this.infoItems().toArray())}\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    PostUser.prototype.view = function () {\r\n        const post = this.props.post;\r\n        const user = post.user();\r\n\r\n        if (!user) {\r\n            return (\r\n                <div className=\"PostUser\">\r\n                    <h3>{avatar(user, {className: 'PostUser-avatar'})} {username(user)} {rank[0]}</h3>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        let card = '';\r\n\r\n        if (!post.isHidden() && this.cardVisible) {\r\n            card = UserCard.component({\r\n                user,\r\n                className: 'UserCard--popover',\r\n                controlsButtonClassName: 'Button Button--icon Button--flat'\r\n            });\r\n        }\r\n\r\n        return (\r\n            <div className=\"PostUser\">\r\n                {userOnline(user)}\r\n                <h3>\r\n                    <a href={app.route.user(user)} config={m.route}>\r\n                        {avatar(user, {className: 'PostUser-avatar'})}{' '}{username(user)}\r\n                    </a>\r\n                    {user.ranks().reverse().map((rank, i) => {\r\n                        if (i >= app.forum.attribute('ranksAmt') && app.forum.attribute('ranksAmt') !== null) {\r\n\r\n                        } else {\r\n                            return (<span className=\"Post-Rank\">\r\n                              {rankLabel(rank)}\r\n                            </span>);\r\n                        }\r\n                    })}\r\n                </h3>\r\n                <ul className=\"PostUser-badges badges\">\r\n                    {listItems(user.badges().toArray())}\r\n                </ul>\r\n                {card}\r\n            </div>\r\n        );\r\n    }\r\n}","import {extend} from 'flarum/extend'\r\nimport IndexPage from 'flarum/components/IndexPage'\r\nimport ItemList from 'flarum/utils/ItemList'\r\nimport DiscussionList from 'flarum/components/DiscussionList'\r\nimport Dropdown from 'flarum/components/Dropdown'\r\nimport Button from 'flarum/components/Button'\r\nimport LinkButton from 'flarum/components/LinkButton'\r\n\r\nexport default function () {\r\n\r\n\r\n\r\n    IndexPage.prototype.viewItems = function () {\r\n        const items = new ItemList()\r\n        const sortMap = app.cache.discussionList.sortMap()\r\n\r\n        const sortOptions = {}\r\n        for (const i in sortMap) {\r\n            sortOptions[i] = app.translator.trans('core.forum.index_sort.' + i + '_button')\r\n        }\r\n\r\n        let dropDownLabel = sortOptions[this.params().sort] || Object.keys(sortMap).map(key => sortOptions[key])[0]\r\n\r\n        if (/^.*?\\/hot/.test(m.route())) {\r\n            dropDownLabel = app.translator.trans('core.forum.index_sort.hot_button')\r\n        }\r\n\r\n        items.add('sort',\r\n            Dropdown.component({\r\n                buttonClassName: 'Button',\r\n                label: dropDownLabel,\r\n                children: Object.keys(sortOptions).map(value => {\r\n                    const label = sortOptions[value]\r\n                    let active = (this.params().sort || Object.keys(sortMap)[0]) === value\r\n\r\n                    if (/^.*?\\/hot/.test(m.route()) && value === 'hot') {\r\n                        active = true\r\n                    }\r\n\r\n                    if (/^.*?\\/hot/.test(m.route()) && value === 'latest') {\r\n                        active = false\r\n                        m.redraw()\r\n                    }\r\n\r\n                    return Button.component({\r\n                        children: label,\r\n                        icon: active ? 'fas fa-check' : true,\r\n                        onclick: this.changeSort.bind(this, value),\r\n                        active: active\r\n                    })\r\n                })\r\n            })\r\n        )\r\n\r\n        return items\r\n    }\r\n\r\n    extend(IndexPage.prototype, 'navItems', function (items) {\r\n        items.add('rankings',\r\n            LinkButton.component({\r\n                href: app.route('rankings'),\r\n                children: app.translator.trans('reflar-gamification.forum.nav.name'),\r\n                icon: 'fas fa-trophy'\r\n            }),\r\n            80\r\n        )\r\n    });\r\n\r\n    IndexPage.prototype.changeSort = function (sort) {\r\n        const params = this.params()\r\n\r\n        if (sort === 'hot') {\r\n            m.route('/')\r\n            m.route(m.route() + 'hot')\r\n        } else {\r\n            if (sort === Object.keys(app.cache.discussionList.sortMap())[0]) {\r\n                delete params.sort\r\n            } else {\r\n                params.sort = sort\r\n            }\r\n            if (params.filter === 'hot') {\r\n                delete params.filter\r\n            }\r\n            m.route(app.route('index', params))\r\n        }\r\n    }\r\n\r\n    extend(DiscussionList.prototype, 'sortMap', function (map) {\r\n        map.hot = 'hot'\r\n    })\r\n\r\n    extend(DiscussionList.prototype, 'requestParams', function (params) {\r\n        if (this.props.params.filter === 'hot') {\r\n            params.filter.q = ' is:hot'\r\n        }\r\n    })\r\n}\r\n","import {extend} from 'flarum/extend';\r\nimport app from 'flarum/app';\r\nimport Button from 'flarum/components/Button';\r\nimport LogInModal from 'flarum/components/LogInModal';\r\nimport CommentPost from 'flarum/components/CommentPost';\r\nimport PostControls from 'flarum/utils/PostControls';\r\nimport VotesModal from './VotesModal';\r\n\r\nexport default function () {\r\n\r\n    extend(CommentPost.prototype, 'config', function (x, isInitialized, context) {\r\n        if (isInitialized) return\r\n\r\n        if (app.pusher) {\r\n            app.pusher.then(channels => {\r\n                channels.main.bind('newVote', data => {\r\n\r\n                    var userId = parseInt(data.userId)\r\n\r\n                    if (userId == app.session.user.id()) return\r\n\r\n                    m.startComputation()\r\n\r\n                    if (this.postId() == data.postId) {\r\n\r\n                        var upData = this.upvotedata()\r\n                        var downData = this.downvotedata()\r\n\r\n                        switch (data.before) {\r\n                            case 'up':\r\n                                upData = this.removeVote(upData, userId)\r\n                                break;\r\n                            case 'down':\r\n                                downData = this.removeVote(downData, userId)\r\n                                break;\r\n\r\n                        }\r\n\r\n                        switch (data.after) {\r\n                            case 'up':\r\n                                upData.unshift({type: 'users', id: userId})\r\n                                break;\r\n                            case 'down':\r\n                                downData.unshift({type: 'users', id: userId})\r\n                                break;\r\n                            case 'none':\r\n                                downData = this.removeVote(downData, userId)\r\n                                upData = this.removeVote(upData, userId)\r\n                                break;\r\n                        }\r\n\r\n                        this.downvotedata(downData)\r\n                        this.upvotedata(upData)\r\n\r\n                        m.redraw.strategy('all');\r\n\r\n                    }\r\n\r\n                    m.endComputation()\r\n\r\n                })\r\n\r\n\r\n                extend(context, 'onunload', () => channels.main.unbind('newVote'));\r\n            });\r\n        }\r\n    })\r\n\r\n    extend(PostControls, 'moderationControls', function (items, post) {\r\n        if (post.discussion().canSeeVotes()) {\r\n            items.add('viewVotes', [\r\n                m(Button, {\r\n                    icon: 'fas fa-thumbs-up',\r\n                    onclick: () => {\r\n                        app.modal.show(new VotesModal({post}))\r\n                    }\r\n                }, app.translator.trans('reflar-gamification.forum.mod_item'))\r\n            ]);\r\n        }\r\n    });\r\n\r\n\r\n    extend(CommentPost.prototype, 'actionItems', function (items) {\r\n        const post = this.props.post\r\n\r\n        this.postId = m.prop(post.data.id)\r\n\r\n        this.downvotedata = m.prop(post.data.relationships.downvotes.data)\r\n        this.upvotedata = m.prop(post.data.relationships.upvotes.data)\r\n\r\n        let isUpvoted = app.session.user && post.upvotes().some(user => user === app.session.user)\r\n        let isDownvoted = app.session.user && post.downvotes().some(user => user === app.session.user)\r\n\r\n        if (!app.session.user) {\r\n            isDownvoted = false\r\n            isUpvoted = false\r\n        }\r\n\r\n        let icon = app.forum.attribute('IconName')\r\n\r\n        if (icon === null || icon === '') {\r\n            icon = 'thumbs'\r\n        }\r\n\r\n        this.removeVote = function (data, userId) {\r\n            data.some((vote, i) => {\r\n                if (vote.id == userId) {\r\n                    data.splice(i, 1)\r\n                }\r\n            })\r\n            return data\r\n        }\r\n\r\n        items.add('upvote',\r\n            Button.component({\r\n                icon: 'fas fa-' + icon + '-up',\r\n                className: 'Post-vote Post-upvote',\r\n                style: isUpvoted !== false ? 'color:' + app.forum.data.attributes.themePrimaryColor : 'color:',\r\n                disabled: !post.discussion().canVote(),\r\n                onclick: () => {\r\n                    if (!app.session.user) {\r\n                        app.modal.show(new LogInModal())\r\n                        return\r\n                    }\r\n                    if (!post.discussion().canVote()) return\r\n\r\n                    var upData = post.data.relationships.upvotes.data;\r\n                    var downData = post.data.relationships.downvotes.data;\r\n\r\n                    isUpvoted = !isUpvoted;\r\n\r\n                    isDownvoted = false;\r\n\r\n                    post.save([isUpvoted, isDownvoted, 'vote']);\r\n\r\n                    upData.some((upvote, i) => {\r\n                        if (upvote.id === app.session.user.id()) {\r\n                            upData.splice(i, 1);\r\n                            return true;\r\n                        }\r\n                    });\r\n                    downData.some((downvote, i) => {\r\n                        if (downvote.id === app.session.user.id()) {\r\n                            downData.splice(i, 1);\r\n                            return true;\r\n                        }\r\n                    });\r\n                    if (isUpvoted) {\r\n                        upData.unshift({type: 'users', id: app.session.user.id()});\r\n                    }\r\n                }\r\n            }), 3\r\n        )\r\n\r\n        items.add('points',\r\n            <label className='Post-points'>\r\n                {this.upvotedata().length - this.downvotedata().length}\r\n            </label>\r\n        , 2)\r\n\r\n        items.add('downvote',\r\n            Button.component({\r\n                icon: 'fas fa-' + icon + '-down',\r\n                className: 'Post-vote Post-downvote',\r\n                style: isDownvoted !== false ? 'color:' + app.forum.data.attributes.themePrimaryColor : '',\r\n                disabled: !post.discussion().canVote(),\r\n                onclick: () => {\r\n                    if (!app.session.user) {\r\n                        app.modal.show(new LogInModal())\r\n                        return\r\n                    }\r\n                    if (!post.discussion().canVote()) return\r\n\r\n                    var upData = post.data.relationships.upvotes.data;\r\n                    var downData = post.data.relationships.downvotes.data\r\n\r\n                    isDownvoted = !isDownvoted;\r\n\r\n                    isUpvoted = false;\r\n\r\n                    post.save([isUpvoted, isDownvoted, 'vote']);\r\n\r\n                    upData.some((upvote, i) => {\r\n                        if (upvote.id === app.session.user.id()) {\r\n                            upData.splice(i, 1);\r\n                            return true;\r\n                        }\r\n                    });\r\n                    downData.some((downvote, i) => {\r\n                        if (downvote.id === app.session.user.id()) {\r\n                            downData.splice(i, 1);\r\n                            return true;\r\n                        }\r\n                    });\r\n\r\n                    if (isDownvoted) {\r\n                        downData.unshift({type: 'users', id: app.session.user.id()});\r\n                    }\r\n                }\r\n            }), 1\r\n        )\r\n    })\r\n}\r\n","import {extend} from 'flarum/extend'\r\nimport avatar from 'flarum/helpers/avatar'\r\nimport Page from 'flarum/components/Page'\r\nimport IndexPage from 'flarum/components/IndexPage'\r\nimport Button from 'flarum/components/Button'\r\nimport ItemList from 'flarum/utils/ItemList'\r\nimport LogInModal from 'flarum/components/LogInModal'\r\nimport LoadingIndicator from 'flarum/components/LoadingIndicator'\r\nimport listItems from 'flarum/helpers/listItems'\r\nimport username from 'flarum/helpers/username'\r\n\r\nexport default class RankingsPage extends Page {\r\n    init() {\r\n        super.init()\r\n\r\n        if (!app.session.user || app.session.user.data.attributes.canViewRankingPage !== true) {\r\n            m.route('/')\r\n        }\r\n\r\n        this.loading = true\r\n        this.users = []\r\n        this.refresh()\r\n    }\r\n\r\n    view() {\r\n        let loading\r\n\r\n        if (this.loading) {\r\n            loading = LoadingIndicator.component()\r\n        } else {\r\n            loading = Button.component({\r\n                children: app.translator.trans('core.forum.discussion_list.load_more_button'),\r\n                className: 'Button',\r\n                onclick: this.loadMore.bind(this)\r\n            })\r\n        }\r\n        return (\r\n            <div className='TagsPage'>\r\n                {IndexPage.prototype.hero()}\r\n                <div className='container'>\r\n                    <nav className=\"RankingPage-nav IndexPage-nav sideNav\" config={IndexPage.prototype.affixSidebar}>\r\n                        <ul>{listItems(IndexPage.prototype.sidebarItems().toArray())}</ul>\r\n                    </nav>\r\n                    <div className='RankingPage sideNavOffset'>\r\n                        <table class='rankings'>\r\n                            <tr>\r\n                                <th className='rankings-mobile'>{app.translator.trans('reflar-gamification.forum.ranking.rank')}</th>\r\n                                <th>{app.translator.trans('reflar-gamification.forum.ranking.name')}</th>\r\n                                <th>{app.translator.trans('reflar-gamification.forum.ranking.amount')}</th>\r\n                            </tr>\r\n                            {this.users.map((user, i) => {\r\n                                ++i\r\n                                return [\r\n                                    <tr className={'ranking-' + i}>\r\n                                        {i < 4 ? (app.forum.attribute('CustomRankingImages') == '1' ? (\r\n                                                <img className='rankings-mobile rankings-image'\r\n                                                     src={app.forum.attribute('baseUrl') + '/assets/' + app.forum.attribute('TopImage' + i)}/>)\r\n                                            : (\r\n                                                <td className={'rankings-mobile rankings-' + i}>\r\n                                                    <i className=\"icon fas fa-trophy\"></i></td>))\r\n                                            : (\r\n                                                <td className='rankings-4 rankings-mobile'>{this.addOrdinalSuffix(i)}</td>)}\r\n                                        <td>\r\n                                            <div className='PostUser'>\r\n                                                <h3 className='rankings-info'>\r\n                                                    <a href={app.route.user(user)} config={m.route}>\r\n                                                        {i < 4 ? (avatar(user, {className: 'info-avatar rankings-' + i + '-avatar'})) : ''} {username(user)}\r\n                                                    </a>\r\n                                                </h3>\r\n                                            </div>\r\n                                        </td>\r\n                                        {i < 4 ? (\r\n                                                <td className={'rankings-' + i}>{user.data.attributes.Points}</td>)\r\n                                            : (\r\n                                                <td className='rankings-4'>{user.data.attributes.Points}</td>)}\r\n                                    </tr>\r\n                                ]\r\n                            })}\r\n                        </table>\r\n                        <div className='rankings-loadmore'> {loading}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    refresh(clear = true) {\r\n        if (clear) {\r\n            this.loading = true\r\n            this.users = []\r\n        }\r\n\r\n        return this.loadResults().then(\r\n            results => {\r\n                this.users = []\r\n                this.parseResults(results)\r\n            },\r\n            () => {\r\n                this.loading = false\r\n                m.redraw()\r\n            }\r\n        )\r\n    }\r\n\r\n    addOrdinalSuffix(i) {\r\n        if (app.forum.attribute('DefaultLocale') == 'en') {\r\n            var j = i % 10,\r\n                k = i % 100\r\n            if (j == 1 && k != 11) {\r\n                return i + 'st'\r\n            }\r\n            if (j == 2 && k != 12) {\r\n                return i + 'nd'\r\n            }\r\n            if (j == 3 && k != 13) {\r\n                return i + 'rd'\r\n            }\r\n            return i + 'th'\r\n        } else {\r\n            return i\r\n        }\r\n    }\r\n\r\n    stickyParams() {\r\n        return {\r\n            sort: m.route.param('sort'),\r\n            q: m.route.param('q')\r\n        }\r\n    }\r\n\r\n    actionItems() {\r\n        const items = new ItemList()\r\n\r\n        items.add('refresh',\r\n            Button.component({\r\n                title: app.translator.trans('core.forum.index.refresh_tooltip'),\r\n                icon: 'fas fa-refresh',\r\n                className: 'Button Button--icon',\r\n                onclick: () => {\r\n                    app.cache.discussionList.refresh()\r\n                    if (app.session.user) {\r\n                        app.store.find('users', app.session.user.id())\r\n                        m.redraw()\r\n                    }\r\n                }\r\n            })\r\n        )\r\n\r\n        return items\r\n    }\r\n\r\n    newDiscussion() {\r\n        const deferred = m.deferred()\r\n\r\n        if (app.session.user) {\r\n            this.composeNewDiscussion(deferred)\r\n        } else {\r\n            app.modal.show(\r\n                new LogInModal({\r\n                    onlogin: this.composeNewDiscussion.bind(this, deferred)\r\n                })\r\n            )\r\n        }\r\n\r\n        return deferred.promise\r\n    }\r\n\r\n    composeNewDiscussion(deferred) {\r\n        const component = new DiscussionComposer({user: app.session.user})\r\n\r\n        app.composer.load(component)\r\n        app.composer.show()\r\n\r\n        deferred.resolve(component)\r\n\r\n        return deferred.promise\r\n    }\r\n\r\n    loadResults(offset) {\r\n        const params = {}\r\n        params.page = {\r\n            offset: offset,\r\n            limit: '10'\r\n        }\r\n\r\n        return app.store.find('rankings', params)\r\n    }\r\n\r\n    loadMore() {\r\n        this.loading = true\r\n\r\n        this.loadResults(this.users.length)\r\n            .then(this.parseResults.bind(this))\r\n    }\r\n\r\n    parseResults(results) {\r\n        [].push.apply(this.users, results)\r\n\r\n        this.loading = false\r\n\r\n        this.users.sort(function (a, b) {\r\n            return parseFloat(b.data.attributes.Points) - parseFloat(a.data.attributes.Points)\r\n        })\r\n\r\n        m.lazyRedraw()\r\n\r\n        return results\r\n    }\r\n}\r\n","import Notification from 'flarum/components/Notification'\r\n\r\nexport default class UpvotedNotification extends Notification {\r\n    icon() {\r\n        if (this.props.notification.content() === 'Up') {\r\n            return 'fas fa-thumbs-up'\r\n        } else {\r\n            return 'fas fa-thumbs-down'\r\n        }\r\n    }\r\n\r\n    href() {\r\n        return app.route.post(this.props.notification.subject())\r\n    }\r\n\r\n    content() {\r\n\t\tlet username = this.props.notification.fromUser().username();\r\n\t\t\r\n        if (this.props.notification.content() === 'Up') {\r\n            return app.translator.trans('reflar-gamification.forum.notification.upvote', {username})\r\n        } else {\r\n            return app.translator.trans('reflar-gamification.forum.notification.downvote', {username})\r\n        }\r\n    }\r\n\r\n    excerpt() {\r\n        return this.props.notification.subject().contentPlain()\r\n    }\r\n}\r\n","import Modal from 'flarum/components/Modal';\r\nimport avatar from 'flarum/helpers/avatar';\r\nimport username from 'flarum/helpers/username';\r\n\r\nexport default class VotesModal extends Modal {\r\n    className() {\r\n        return 'VotesModal Modal--small';\r\n    }\r\n\r\n    title() {\r\n        return app.translator.trans('reflar-gamification.forum.modal.title');\r\n    }\r\n\r\n    content() {\r\n        return (\r\n            <div className=\"Modal-body\">\r\n                <ul className=\"VotesModal-list\">\r\n                    <legend>\r\n                        {app.translator.trans('reflar-gamification.forum.modal.upvotes_label')}\r\n                    </legend>\r\n                    {this.props.post.upvotes().map(user => (\r\n                        <li>\r\n                            <a href={app.route.user(user)} config={m.route}>\r\n                                {avatar(user)} {' '}\r\n                                {username(user)}\r\n                            </a>\r\n                        </li>\r\n                    ))}\r\n                    <legend>\r\n                        {app.translator.trans('reflar-gamification.forum.modal.downvotes_label')}\r\n                    </legend>\r\n                    {this.props.post.downvotes().map(user => (\r\n                        <li>\r\n                            <a href={app.route.user(user)} config={m.route}>\r\n                                {avatar(user)} {' '}\r\n                                {username(user)}\r\n                            </a>\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            </div>\r\n        );\r\n    }\r\n}","import {extend} from 'flarum/extend'\r\nimport app from 'flarum/app'\r\nimport AddAttributes from './components/AddAttributes'\r\nimport AddHotnessFilter from './components/AddHotnessSort'\r\nimport AddVoteButtons from './components/AddVoteButtons'\r\nimport Rank from '../common/models/Rank'\r\nimport RankingsPage from './components/RankingsPage'\r\nimport VoteNotification from './components/VoteNotification'\r\n\r\napp.initializers.add('reflar-gamification', app => {\r\n    app.store.models.ranks = Rank;\r\n\r\n    app.notificationComponents.vote = VoteNotification;\r\n\r\n    app.routes.rankings = {path: '/rankings', component: RankingsPage.component()};\r\n\r\n    AddVoteButtons();\r\n    AddHotnessFilter();\r\n    AddAttributes();\r\n});\r\n","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['components/AvatarEditor'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/CommentPost'];","module.exports = flarum.core.compat['components/DiscussionList'];","module.exports = flarum.core.compat['components/Dropdown'];","module.exports = flarum.core.compat['components/IndexPage'];","module.exports = flarum.core.compat['components/LinkButton'];","module.exports = flarum.core.compat['components/LoadingIndicator'];","module.exports = flarum.core.compat['components/LogInModal'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['components/Notification'];","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['components/PostUser'];","module.exports = flarum.core.compat['components/UserCard'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['helpers/avatar'];","module.exports = flarum.core.compat['helpers/listItems'];","module.exports = flarum.core.compat['helpers/userOnline'];","module.exports = flarum.core.compat['helpers/username'];","module.exports = flarum.core.compat['models/Discussion'];","module.exports = flarum.core.compat['models/Post'];","module.exports = flarum.core.compat['models/User'];","module.exports = flarum.core.compat['utils/ItemList'];","module.exports = flarum.core.compat['utils/PostControls'];","module.exports = flarum.core.compat['utils/UserControls'];","module.exports = flarum.core.compat['utils/mixin'];"],"sourceRoot":""}