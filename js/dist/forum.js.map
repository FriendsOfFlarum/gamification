{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@fof/gamification/./node_modules/lodash.debounce/index.js","webpack://@fof/gamification/./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack://@fof/gamification/./node_modules/@babel/runtime/helpers/typeof.js","webpack://@fof/gamification/./node_modules/@babel/runtime/regenerator/index.js","webpack://@fof/gamification/webpack/bootstrap","webpack://@fof/gamification/webpack/runtime/compat get default export","webpack://@fof/gamification/webpack/runtime/define property getters","webpack://@fof/gamification/webpack/runtime/global","webpack://@fof/gamification/webpack/runtime/hasOwnProperty shorthand","webpack://@fof/gamification/webpack/runtime/make namespace object","webpack://@fof/gamification/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@fof/gamification/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@fof/gamification/external root \"flarum.core.compat['common/Model']\"","webpack://@fof/gamification/./src/common/models/Rank.ts","webpack://@fof/gamification/./src/common/models/index.ts","webpack://@fof/gamification/external root \"flarum.core.compat['forum/app']\"","webpack://@fof/gamification/external root \"flarum.core.compat['common/extend']\"","webpack://@fof/gamification/external root \"flarum.core.compat['forum/components/IndexPage']\"","webpack://@fof/gamification/external root \"flarum.core.compat['forum/states/DiscussionListState']\"","webpack://@fof/gamification/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@fof/gamification/external root \"flarum.core.compat['common/components/Button']\"","webpack://@fof/gamification/external root \"flarum.core.compat['forum/components/CommentPost']\"","webpack://@fof/gamification/external root \"flarum.core.compat['common/utils/classList']\"","webpack://@fof/gamification/external root \"flarum.core.compat['forum/utils/PostControls']\"","webpack://@fof/gamification/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@fof/gamification/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@fof/gamification/external root \"flarum.core.compat['common/helpers/avatar']\"","webpack://@fof/gamification/external root \"flarum.core.compat['common/helpers/username']\"","webpack://@fof/gamification/external root \"flarum.core.compat['common/components/Link']\"","webpack://@fof/gamification/./src/forum/components/VotesModal.js","webpack://@fof/gamification/./src/forum/helpers/setting.js","webpack://@fof/gamification/external root \"flarum.core.compat['forum/utils/DiscussionControls']\"","webpack://@fof/gamification/./src/forum/helpers/saveVote.js","webpack://@fof/gamification/external root \"flarum.core.compat['forum/components/DiscussionListItem']\"","webpack://@fof/gamification/external root \"flarum.core.compat['common/utils/abbreviateNumber']\"","webpack://@fof/gamification/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@fof/gamification/external root \"flarum.core.compat['forum/components/PostUser']\"","webpack://@fof/gamification/external root \"flarum.core.compat['forum/components/UserCard']\"","webpack://@fof/gamification/./src/common/helpers/rankLabel.js","webpack://@fof/gamification/external root \"flarum.core.compat['forum/components/DiscussionPage']\"","webpack://@fof/gamification/./src/forum/addPusher.js","webpack://@fof/gamification/./src/forum/addAlternateLayout.js","webpack://@fof/gamification/external root \"flarum.core.compat['common/states/DiscussionListState']\"","webpack://@fof/gamification/external root \"flarum.core.compat['forum/components/Notification']\"","webpack://@fof/gamification/./src/forum/components/VoteNotification.js","webpack://@fof/gamification/external root \"flarum.core.compat['forum/components/NotificationGrid']\"","webpack://@fof/gamification/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://@fof/gamification/external root \"flarum.core.compat['common/Component']\"","webpack://@fof/gamification/external root \"flarum.core.compat['common/components/Tooltip']\"","webpack://@fof/gamification/external root \"flarum.core.compat['common/utils/SubtreeRetainer']\"","webpack://@fof/gamification/./src/forum/components/Voters.tsx","webpack://@fof/gamification/external root \"flarum.core.compat['forum/components/UserPage']\"","webpack://@fof/gamification/external root \"flarum.core.compat['forum/components/PostsUserPage']\"","webpack://@fof/gamification/./src/forum/components/VotesUserPage.ts","webpack://@fof/gamification/external root \"flarum.core.compat['common/extenders']\"","webpack://@fof/gamification/./src/common/extend.ts","webpack://@fof/gamification/external root \"flarum.core.compat['common/components/Page']\"","webpack://@fof/gamification/external root \"flarum.core.compat['common/helpers/listItems']\"","webpack://@fof/gamification/./src/forum/components/RankingImage.tsx","webpack://@fof/gamification/./src/forum/components/RankingsPage.js","webpack://@fof/gamification/external root \"flarum.core.compat['common/models/Discussion']\"","webpack://@fof/gamification/external root \"flarum.core.compat['common/models/Post']\"","webpack://@fof/gamification/external root \"flarum.core.compat['common/models/User']\"","webpack://@fof/gamification/./src/forum/extend.ts","webpack://@fof/gamification/./src/forum/components/index.js","webpack://@fof/gamification/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@fof/gamification/./src/common/helpers/index.js","webpack://@fof/gamification/./src/forum/helpers/index.js","webpack://@fof/gamification/./src/forum/index.ts","webpack://@fof/gamification/./src/forum/addUserInfo.js","webpack://@fof/gamification/./src/forum/addVoteButtons.js","webpack://@fof/gamification/./src/forum/addHotnessSort.js","webpack://@fof/gamification/./src/forum/addVotesSort.js","webpack://@fof/gamification/./src/forum/addUpvotesToDiscussion.js","webpack://@fof/gamification/./src/forum/addNotifications.ts","webpack://@fof/gamification/./src/forum/addVotersToDiscussionPageSideBar.tsx","webpack://@fof/gamification/./src/forum/addUpvoteTabToUserProfile.js","webpack://@fof/gamification/./src/forum/useAlternatePostVoteLayout.tsx"],"sourcesContent":["/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","import Model from 'flarum/common/Model';\n\nexport default class Rank extends Model {\n  points() {\n    return Model.attribute<number>('points').call(this);\n  }\n\n  name() {\n    return Model.attribute<string>('name').call(this);\n  }\n\n  color() {\n    return Model.attribute<string>('color').call(this);\n  }\n}\n","import Rank from './Rank';\n\nexport const models = {\n  Rank,\n};\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/IndexPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/states/DiscussionListState'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LinkButton'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/CommentPost'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/classList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/utils/PostControls'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/avatar'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/username'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Link'];","import app from 'flarum/forum/app';\nimport Modal from 'flarum/common/components/Modal';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport avatar from 'flarum/common/helpers/avatar';\nimport username from 'flarum/common/helpers/username';\nimport Link from 'flarum/common/components/Link';\n\nexport default class VotesModal extends Modal {\n  className() {\n    return 'VotesModal Modal--small';\n  }\n\n  title() {\n    return app.translator.trans('fof-gamification.forum.modal.title');\n  }\n\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.loading = !this.attrs.post.upvotes() || !this.attrs.post.downvotes();\n\n    if (this.loading) {\n      this.load();\n    }\n  }\n\n  content() {\n    if (this.loading) {\n      return (\n        <div className=\"Modal-body\">\n          <LoadingIndicator />\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"Modal-body\">\n        <ul className=\"VotesModal-list\">\n          {['upvotes', 'downvotes'].map((type) => {\n            const voters = this.attrs.post[type]();\n\n            if (!voters || !voters.length) return;\n\n            return (\n              <div>\n                <legend>{app.translator.trans(`fof-gamification.forum.modal.${type}_label`)}</legend>\n                {voters.map((user) => (\n                  <li>\n                    <Link href={app.route.user(user)}>\n                      {avatar(user)} {username(user)}\n                    </Link>\n                  </li>\n                ))}\n              </div>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n\n  load() {\n    return app.store\n      .find('posts', this.attrs.post.id(), {\n        include: 'upvotes,downvotes',\n      })\n      .then(this.loaded.bind(this));\n  }\n}\n","import app from 'flarum/forum/app';\n\nexport default (key, isBool = false) => {\n  const val = app.data[`fof-gamification.${key}`];\n\n  if (isBool) {\n    return !!parseInt(val);\n  }\n\n  return val;\n};\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/utils/DiscussionControls'];","import app from 'flarum/forum/app';\nimport DiscussionControls from 'flarum/forum/utils/DiscussionControls';\n\nexport default (post, upvoted, downvoted, load, discussion = post.discussion()) => {\n  if (!app.session.user) {\n    // We use this instead of showing LogInModal so that extensions can override it\n    DiscussionControls.replyAction.call(discussion, true);\n    return;\n  } else if (discussion && !discussion.canVote() && !post.canVote()) {\n    return;\n  }\n\n  if (upvoted && downvoted) {\n    upvoted = false;\n    downvoted = false;\n  }\n\n  if (load) load(true);\n\n  m.redraw();\n\n  return post\n    .save([upvoted, downvoted, 'vote'])\n    .then(\n      () => null,\n      () => null\n    )\n    .then(() => {\n      if (load) load(false);\n\n      if (discussion) {\n        discussion.pushAttributes({\n          votes: post.votes(),\n        });\n      }\n\n      m.redraw();\n    });\n};\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/DiscussionListItem'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/abbreviateNumber'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/icon'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/PostUser'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/UserCard'];","export default function rankLabel(rank, attrs = {}) {\n  attrs.style = attrs.style || {};\n  attrs.className = 'rankLabel ' + (attrs.className || '');\n\n  const color = rank.color();\n  attrs.style.backgroundColor = attrs.style.color = color;\n  attrs.className += ' colored';\n\n  return m('span', attrs, <span className=\"rankLabel-text\">{rank.name()}</span>);\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/DiscussionPage'];","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport DiscussionPage from 'flarum/forum/components/DiscussionPage';\n\nimport debounce from 'lodash.debounce';\n\nconst fetch = (postId) => app.store.find('posts', postId).then(() => m.redraw());\nconst debounced = [];\nconst update = (postId) => {\n  let func = debounced[postId];\n\n  if (func) return func(postId);\n\n  func = debounced[postId] = debounce(fetch, 1500);\n\n  return func(postId);\n};\n\nexport default () => {\n  extend(DiscussionPage.prototype, 'oncreate', function () {\n    if (app.pusher) {\n      app.pusher.then((channels) => {\n        channels.pusher.bind('newVote', (data) => {\n          const post = app.store.getById('posts', data.post_id);\n          const userId = data.user_id;\n\n          if (!post || post.votes() === data.votes || userId == app.session.user.id()) return;\n\n          update(post.id());\n        });\n      });\n    }\n  });\n\n  extend(DiscussionPage.prototype, 'onremove', function () {\n    if (app.pusher) {\n      app.pusher.then((channels) => {\n        channels.pusher.unbind('newVote');\n      });\n    }\n  });\n};\n","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\n\nimport DiscussionListItem from 'flarum/forum/components/DiscussionListItem';\nimport abbreviateNumber from 'flarum/common/utils/abbreviateNumber';\nimport Button from 'flarum/common/components/Button';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\n\nimport saveVote from './helpers/saveVote';\nimport setting from './helpers/setting';\n\nconst get = (discussion, key) => {\n  const post = discussion.firstPost();\n\n  if (post && post[key]() !== undefined) {\n    return post[key]();\n  }\n\n  return discussion[key]();\n};\n\nexport default function addAlternateLayout() {\n  extend(DiscussionListItem.prototype, 'oninit', function () {\n    const discussion = this.attrs.discussion;\n\n    if (!discussion.seeVotes()) {\n      return;\n    }\n\n    this.subtree.check(() => this.voteLoading);\n  });\n\n  extend(DiscussionListItem.prototype, 'view', function (vdom) {\n    const discussion = this.attrs.discussion;\n\n    if (!discussion.seeVotes()) {\n      return;\n    }\n\n    if (!vdom || !vdom.children) return;\n\n    const content = vdom.children.find((v) => v && v.attrs && v.attrs.className && v.attrs.className.includes('DiscussionListItem-content'));\n    const post = discussion.firstPost();\n\n    const hasUpvoted = get(discussion, 'hasUpvoted');\n    const hasDownvoted = get(discussion, 'hasDownvoted');\n    // We set canVote to true for guest users so that they can access the login by clicking the button\n    const canVote = !app.session.user || get(discussion, 'canVote');\n\n    const upvotesOnly = setting('upVotesOnly', true);\n    const altIcon = setting('iconNameAlt') || 'arrow';\n\n    const onclick = (upvoted, downvoted) => saveVote(post, upvoted, downvoted, (val) => (this.voteLoading = val));\n\n    content.children.unshift(\n      <div className=\"DiscussionListItem-votes alternateLayout\" data-upvotes-only={upvotesOnly}>\n        <Button\n          className=\"DiscussionListItem-voteButton DiscussionListItem-voteButton--up Button Button--icon Button--text\"\n          icon={`fas fa-fw fa-${altIcon}-up`}\n          data-active={hasUpvoted}\n          disabled={!canVote || this.voteLoading}\n          onclick={() => onclick(!hasUpvoted, false)}\n          aria-label={app.translator.trans('fof-gamification.forum.post.upvote_button')}\n        />\n\n        <span class=\"DiscussionListItem-voteCount\">{abbreviateNumber(get(discussion, 'votes') || 0)}</span>\n\n        {!upvotesOnly && (\n          <Button\n            className=\"DiscussionListItem-voteButton DiscussionListItem-voteButton--down Button Button--icon Button--text\"\n            icon={`fas fa-fw fa-${altIcon}-down`}\n            data-active={hasDownvoted}\n            disabled={!canVote || this.voteLoading}\n            onclick={() => onclick(false, !hasDownvoted)}\n            aria-label={app.translator.trans('fof-gamification.forum.post.downvote_button')}\n          />\n        )}\n\n        {this.voteLoading && <LoadingIndicator display=\"inline\" size=\"small\" />}\n      </div>\n    );\n  });\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/states/DiscussionListState'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/Notification'];","import app from 'flarum/forum/app';\nimport Notification from 'flarum/forum/components/Notification';\nimport setting from '../helpers/setting';\n\nexport default class UpvotedNotification extends Notification {\n  icon() {\n    const icon = setting('iconName') || 'thumbs';\n\n    if (this.attrs.notification.content() > 0) {\n      return `fas fa-${icon}-up`;\n    } else {\n      return `fas fa-${icon}-down`;\n    }\n  }\n\n  href() {\n    return app.route.post(this.attrs.notification.subject());\n  }\n\n  content() {\n    const user = this.attrs.notification.fromUser();\n    const content = parseInt(this.attrs.notification.content());\n\n    if (content > 0) {\n      return app.translator.trans('fof-gamification.forum.notification.upvote', { user });\n    } else {\n      return app.translator.trans('fof-gamification.forum.notification.downvote', { user });\n    }\n  }\n\n  excerpt() {\n    return this.attrs.notification.subject().contentPlain();\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/NotificationGrid'];","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nexport { _asyncToGenerator as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Tooltip'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/SubtreeRetainer'];","import app from 'flarum/forum/app';\n\nimport Component from 'flarum/common/Component';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport Link from 'flarum/common/components/Link';\nimport Tooltip from 'flarum/common/components/Tooltip';\nimport avatar from 'flarum/common/helpers/avatar';\nimport icon from 'flarum/common/helpers/icon';\nimport SubtreeRetainer from 'flarum/common/utils/SubtreeRetainer';\n\nimport type Mithril from 'mithril';\n\nexport default class Voters extends Component {\n  subtreeRetainer!: SubtreeRetainer;\n  lastRenderVotes: number = -1;\n  loading: boolean = false;\n\n  oninit(vnode: Mithril.Vnode) {\n    super.oninit(vnode);\n\n    this.loading = !this.attrs.post.upvotes();\n\n    if (this.loading) {\n      this.load();\n    }\n\n    this.subtreeRetainer = new SubtreeRetainer(\n      () => this.loading,\n      () => this.attrs.post.votes(),\n      () => this.attrs.post?.upvotes?.()?.length\n    );\n  }\n\n  onbeforeupdate(vnode: Mithril.Vnode) {\n    super.onbeforeupdate(vnode);\n\n    return this.subtreeRetainer.needsRebuild();\n  }\n\n  onupdate(vnode: Mithril.Vnode) {\n    if (this.lastRenderVotes !== this.attrs.post.votes()) {\n      this.loading = true;\n      setTimeout(() => m.redraw(), 0);\n      this.lastRenderVotes = this.attrs.post.votes();\n      this.load();\n    }\n  }\n\n  view() {\n    // if (this.loading) {\n    if (this.attrs.post.votes() === false || this.attrs.post.upvotes() === false) {\n      return (\n        <div className=\"VotingContainer\">\n          <div className=\"FoFGamification-voters\">\n            <div className=\"FoFGamification-voters-title\">\n              <span className=\"FoFGamification-voters-title-icon\">\n                {icon('fas fa-users')}\n                <span className=\"FoFGamification-voters-title-label\">{app.translator.trans('fof-gamification.forum.voters.label')}</span>\n                <span className=\"FoFGamification-voters-title-label FoFGamification-voters-title-label--mobile\">\n                  {app.translator.trans('fof-gamification.forum.voters.label')}\n                </span>\n              </span>\n            </div>\n\n            <LoadingIndicator display=\"inline\" />\n          </div>\n        </div>\n      );\n    }\n\n    const max = 15;\n    const voters = this.attrs.post.upvotes();\n\n    return (\n      <div className=\"VotingContainer\">\n        <div className=\"FoFGamification-voters\">\n          <div className=\"FoFGamification-voters-title\">\n            <span className=\"FoFGamification-voters-title-icon\">\n              {icon('fas fa-users')}\n              <span className=\"FoFGamification-voters-title-label\">{app.translator.trans('fof-gamification.forum.voters.label')}</span>\n              <span className=\"FoFGamification-voters-title-label FoFGamification-voters-title-label--mobile\">\n                {voters.length === 0\n                  ? app.translator.trans('fof-gamification.forum.voters.label_none')\n                  : app.translator.trans('fof-gamification.forum.voters.label')}\n              </span>\n            </span>\n          </div>\n          <div className=\"FoFGamification-voters-message\">\n            {voters.length === 0 ? app.translator.trans('fof-gamification.forum.voters.none') : null}\n          </div>\n          <div className=\"FoFGamification-voters-list\">\n            {voters.slice(0, max).map((user: any) => (\n              <Link href={app.route('user', { username: user.slug() })} className=\"FoFGamification-voters-item\">\n                <Tooltip text={user.displayName()}>{avatar(user)}</Tooltip>\n              </Link>\n            ))}\n            {voters.length > max ? (\n              <span className=\"FoFGamification-voters-item FoFGamification-voters-item--plus\">\n                <span className=\"Avatar\">{`+${voters.length - max}`}</span>\n              </span>\n            ) : null}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  async load() {\n    await app.store.find('posts', this.attrs.post.id(), {\n      include: 'upvotes',\n    });\n\n    this.loading = false;\n\n    m.redraw();\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/UserPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/PostsUserPage'];","import app from 'flarum/forum/app';\nimport PostsUserPage from 'flarum/forum/components/PostsUserPage';\n\n/**\n * The `VotesUserPage` component shows posts which user voted on.\n */\nexport default class VotesUserPage extends PostsUserPage {\n  /**\n   * Load a new page of the user's activity feed.\n   *\n   * @param offset The position to start getting results from.\n   * @protected\n   */\n  loadResults(offset: number) {\n    return app.store.find('posts', {\n      filter: {\n        type: 'comment',\n        voted: this.user.id(),\n      },\n      page: { offset, limit: this.loadLimit },\n      sort: '-createdAt',\n    });\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extenders'];","import Extend from 'flarum/common/extenders';\nimport Rank from './models/Rank';\n\nexport default [\n  new Extend.Store() //\n    .add('ranks', Rank),\n];\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Page'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/listItems'];","import app from 'flarum/forum/app';\nimport Component, { ComponentAttrs } from 'flarum/common/Component';\nimport type Mithril from 'mithril';\nimport icon from 'flarum/common/helpers/icon';\n\ninterface RankingImageAttrs extends ComponentAttrs {\n  place: number;\n}\n\nexport default class RankingImage extends Component<RankingImageAttrs> {\n  view() {\n    const imgUrl = app.forum.attribute(`fof-gamification.topimage${this.attrs.place}Url`);\n    const place = this.attrs.place;\n\n    return imgUrl ? (\n      <img className={`rankings-mobile rankings-image rankings-${place}`} src={imgUrl} alt=\"\" />\n    ) : (\n      <td className={`rankings-mobile rankings-${place}`}>{icon('fas fa-trophy')}</td>\n    );\n  }\n}\n","import app from 'flarum/forum/app';\nimport avatar from 'flarum/common/helpers/avatar';\nimport Page from 'flarum/common/components/Page';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport Button from 'flarum/common/components/Button';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport listItems from 'flarum/common/helpers/listItems';\nimport username from 'flarum/common/helpers/username';\nimport Link from 'flarum/common/components/Link';\nimport RankingImage from './RankingImage';\n\n/**\n * This page re-uses Flarum's IndexPage CSS classes\n */\nexport default class RankingsPage extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    if (!app.forum.attribute('canViewRankingPage')) {\n      m.route.set('/');\n    }\n\n    this.loading = true;\n    this.users = [];\n    this.refresh();\n  }\n\n  view() {\n    let loading;\n\n    if (this.loading) {\n      loading = LoadingIndicator.component();\n    } else {\n      loading = Button.component(\n        {\n          className: 'Button',\n          onclick: this.loadMore.bind(this),\n        },\n        app.translator.trans('core.forum.discussion_list.load_more_button')\n      );\n    }\n\n    return (\n      <div className=\"IndexPage\">\n        {IndexPage.prototype.hero()}\n        <div className=\"container\">\n          <div className=\"sideNavContainer\">\n            <nav className=\"IndexPage-nav sideNav\">\n              <ul>{listItems(IndexPage.prototype.sidebarItems().toArray())}</ul>\n            </nav>\n            <div className=\"IndexPage-results sideNavOffset\">\n              <table class=\"rankings\">\n                <tr>\n                  <th className=\"rankings-mobile\">{app.translator.trans('fof-gamification.forum.ranking.rank')}</th>\n                  <th>{app.translator.trans('fof-gamification.forum.ranking.name')}</th>\n                  <th>{app.translator.trans('fof-gamification.forum.ranking.amount')}</th>\n                </tr>\n                {this.users.map((user, i) => {\n                  ++i;\n                  return [\n                    <tr className={'ranking-' + i}>\n                      {i < 4 ? <RankingImage place={i} /> : <td className=\"rankings-4 rankings-mobile\">{this.addOrdinalSuffix(i)}</td>}\n                      <td>\n                        <div className=\"PostUser\">\n                          <h3 className=\"PostUser-name rankings-info\">\n                            <Link href={app.route.user(user)} force={true}>\n                              {i < 4 ? avatar(user, { className: 'info-avatar rankings-' + i + '-avatar' }) : ''} {username(user)}\n                            </Link>\n                          </h3>\n                        </div>\n                      </td>\n                      {i < 4 ? <td className={'rankings-' + i}>{user.points()}</td> : <td className=\"rankings-4\">{user.points()}</td>}\n                    </tr>,\n                  ];\n                })}\n              </table>\n              <div className=\"rankings-loadmore\"> {loading}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  refresh(clear = true) {\n    if (clear) {\n      this.loading = true;\n      this.users = [];\n    }\n\n    return this.loadResults().then(\n      (results) => {\n        this.users = [];\n        this.parseResults(results);\n      },\n      () => {\n        this.loading = false;\n        m.redraw();\n      }\n    );\n  }\n\n  addOrdinalSuffix(i) {\n    if (app.data.locale === 'en') {\n      const j = i % 10;\n      const k = i % 100;\n\n      if (j === 1 && k !== 11) {\n        return i + 'st';\n      } else if (j === 2 && k !== 12) {\n        return i + 'nd';\n      } else if (j === 3 && k !== 13) {\n        return i + 'rd';\n      }\n      return i + 'th';\n    } else {\n      return i;\n    }\n  }\n\n  loadResults(offset) {\n    const params = {};\n    params.page = {\n      offset: offset,\n      limit: '10',\n    };\n\n    return app.store.find('rankings', params);\n  }\n\n  loadMore() {\n    this.loading = true;\n\n    this.loadResults(this.users.length).then(this.parseResults.bind(this));\n  }\n\n  parseResults(results) {\n    [].push.apply(this.users, results);\n\n    this.loading = false;\n\n    this.users.sort(function (a, b) {\n      return parseFloat(b.points()) - parseFloat(a.points());\n    });\n\n    m.redraw();\n\n    return results;\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/models/Discussion'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/models/Post'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/models/User'];","import Extend from 'flarum/common/extenders';\nimport { default as commonExtend } from '../common/extend';\n\nimport RankingsPage from './components/RankingsPage';\nimport Discussion from 'flarum/common/models/Discussion';\nimport Post from 'flarum/common/models/Post';\nimport User from 'flarum/common/models/User';\n\nimport Rank from '../common/models/Rank';\n\nexport default [\n  ...commonExtend,\n\n  new Extend.Routes() //\n    .add('rankings', '/rankings', RankingsPage),\n\n  new Extend.Model(Discussion) //\n    .attribute<number>('votes')\n    .attribute<boolean>('hasUpvoted')\n    .attribute<boolean>('hasDownvoted')\n    .attribute<boolean>('canVote')\n    .attribute<boolean>('seeVotes'),\n\n  new Extend.Model(Post) //\n    .hasMany('upvotes')\n    .hasMany('downvotes')\n    .attribute<number>('votes')\n    .attribute<boolean>('canVote')\n    .attribute<boolean>('canSeeVotes')\n    .attribute<boolean>('hasUpvoted')\n    .attribute<boolean>('hasDownvoted')\n    .attribute<boolean>('seeVoters'),\n\n  new Extend.Model(User) //\n    .attribute<number>('points')\n    .hasMany<Rank>('ranks')\n    .attribute<boolean>('canHaveVotingNotifications'),\n];\n","import RankingsPage from './RankingsPage';\nimport VoteNotification from './VoteNotification';\nimport VotesModal from './VotesModal';\nimport Voters from './Voters';\n\nexport const components = {\n  RankingsPage,\n  VoteNotification,\n  VotesModal,\n  Voters,\n};\n","function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","import rankLabel from './rankLabel';\n\nexport const helpers = {\n  rankLabel,\n};\n","import saveVote from './saveVote';\nimport setting from './setting';\n\nimport { helpers as commonHelpers } from '../../common/helpers';\n\nexport const helpers = {\n  saveVote,\n  setting,\n  ...commonHelpers,\n};\n","import app from 'flarum/forum/app';\n\nimport addHotnessSort from './addHotnessSort';\nimport addVoteButtons from './addVoteButtons';\nimport addUpvotesToDiscussion from './addUpvotesToDiscussion';\nimport addUserInfo from './addUserInfo';\nimport addPusher from './addPusher';\nimport addAlternateLayout from './addAlternateLayout';\n\nimport setting from './helpers/setting';\nimport addVotesSort from './addVotesSort';\nimport useAlternatePostVoteLayout from './useAlternatePostVoteLayout';\nimport addNotifications from './addNotifications';\nimport addVotersToDiscussionPageSideBar from './addVotersToDiscussionPageSideBar';\nimport addUpvoteTabToUserProfile from './addUpvoteTabToUserProfile';\n\nexport { default as extend } from './extend';\n\napp.initializers.add('fof-gamification', () => {\n  addVoteButtons();\n  addHotnessSort();\n  addVotesSort();\n  addUserInfo();\n  addUpvotesToDiscussion();\n  addPusher();\n  addNotifications();\n  addVotersToDiscussionPageSideBar();\n  addUpvoteTabToUserProfile();\n\n  if (setting('useAlternateLayout', true)) {\n    addAlternateLayout();\n  }\n\n  if (setting('altPostVotingUi', true)) {\n    useAlternatePostVoteLayout();\n  }\n});\n\nexport * from './components';\nexport * from './helpers';\n","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport PostUser from 'flarum/forum/components/PostUser';\nimport UserCard from 'flarum/forum/components/UserCard';\nimport rankLabel from '../common/helpers/rankLabel';\nimport setting from './helpers/setting';\nimport icon from 'flarum/common/helpers/icon';\n\nexport default function () {\n  const matchClass = (className) => {\n    return (node) => node && node.attrs && node.attrs.className && String(node.attrs.className).split(' ').includes(className);\n  };\n\n  const findMatchClass = function (node, className) {\n    const arr = [];\n\n    if (node && node.children && Array.isArray(node.children)) {\n      const nodeInChildren = node.children.find(matchClass(className));\n\n      if (nodeInChildren) {\n        arr.push(nodeInChildren);\n      }\n\n      node.children.forEach(function (currentValue) {\n        arr.push(...findMatchClass(currentValue, className));\n      });\n    }\n\n    return arr;\n  };\n\n  extend(UserCard.prototype, 'infoItems', function (items) {\n    const user = this.attrs.user;\n\n    items.add(\n      'points',\n      <div>\n        {icon('fas fa-medal')}\n        {app.translator.trans('fof-gamification.forum.user.card.points', {\n          count: user.points(),\n        })}\n      </div>,\n      50\n    );\n  });\n\n  extend(UserCard.prototype, 'view', function (vnode) {\n    const user = this.attrs.user;\n    const profile_node = findMatchClass(vnode, 'UserCard-profile')[0];\n    const amt = Number(setting('rankAmt'));\n\n    if (!profile_node) return;\n\n    let badges_node = profile_node.children.find(matchClass('UserCard-badges'));\n    if (user.ranks()) {\n      if (!badges_node) {\n        profile_node.children.splice(\n          1,\n          0,\n          <ul className=\"UserCard-badges badges\">\n            {user\n              .ranks()\n              .reverse()\n              .map((rank, i) => {\n                if (!amt || i < amt) {\n                  return <li className=\"User-Rank\">{rankLabel(rank)}</li>;\n                }\n              })}\n          </ul>\n        );\n      } else {\n        user\n          .ranks()\n          .reverse()\n          .map((rank, i) => {\n            if (!amt || i < amt) {\n              return <li className=\"User-Rank\">{rankLabel(rank)}</li>;\n            }\n          })\n          .forEach((rank) => {\n            if (!rank) {\n              return;\n            }\n            badges_node.children.push(rank);\n          });\n      }\n    }\n\n    return vnode;\n  });\n\n  extend(PostUser.prototype, 'view', function (vnode) {\n    const post = this.attrs.post;\n    const user = post.user();\n\n    if (!user) {\n      return vnode;\n    }\n\n    const header_node = vnode.children.find(matchClass('PostUser-name'));\n    const amt = Number(setting('rankAmt')) ?? user.ranks().length;\n\n    if (!user.ranks()) return;\n\n    header_node.children = header_node.children\n      .concat(\n        user\n          .ranks()\n          .reverse()\n          .splice(0, amt)\n          .map((rank) => {\n            return <span className=\"Post-Rank\">{rankLabel(rank)}</span>;\n          })\n      )\n      .filter(function (el) {\n        return el.tag !== undefined;\n      });\n  });\n}\n","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport Button from 'flarum/common/components/Button';\nimport CommentPost from 'flarum/forum/components/CommentPost';\nimport classList from 'flarum/common/utils/classList';\nimport PostControls from 'flarum/forum/utils/PostControls';\n\nimport VotesModal from './components/VotesModal';\nimport setting from './helpers/setting';\nimport saveVote from './helpers/saveVote';\n\nexport default function () {\n  extend(PostControls, 'moderationControls', function (items, post) {\n    if (post.seeVoters()) {\n      items.add('viewVotes', [\n        m(\n          Button,\n          {\n            icon: 'fas fa-thumbs-up',\n            onclick: () => {\n              app.modal.show(VotesModal, { post });\n            },\n          },\n          app.translator.trans('fof-gamification.forum.mod_item')\n        ),\n      ]);\n    }\n  });\n\n  extend(CommentPost.prototype, 'actionItems', function (items) {\n    const post = this.attrs.post;\n\n    //if (!post.canVote()) return;\n\n    const hasDownvoted = post.hasDownvoted();\n    const hasUpvoted = post.hasUpvoted();\n\n    const icon = setting('iconName') || 'thumbs';\n    const upVotesOnly = setting('upVotesOnly', true);\n\n    const canSeeVotes = post.canSeeVotes();\n\n    // We set canVote to true for guest users so that they can access the login by clicking the button\n    const canVote = !app.session.user || post.canVote();\n\n    const onclick = (upvoted, downvoted) => saveVote(post, upvoted, downvoted, (val) => (this.voteLoading = val));\n\n    items.add(\n      'votes',\n      <div className={classList('CommentPost-votes', setting('useAlternateLayout', true) && 'alternateLayout')}>\n        {Button.component({\n          icon: this.voteLoading ? undefined : `fas fa-fw fa-${icon}-up`,\n          className: classList('Post-vote Post-upvote', hasUpvoted && 'Post-vote--active'),\n          loading: this.voteLoading,\n          disabled: this.voteLoading || !canVote || !canSeeVotes,\n          onclick: () => onclick(!hasUpvoted, false),\n          'aria-label': app.translator.trans('fof-gamification.forum.post.upvote_button'),\n        })}\n\n        <label className=\"Post-points\">{post.votes()}</label>\n\n        {!upVotesOnly &&\n          Button.component({\n            icon: this.voteLoading ? undefined : `fas fa-fw fa-${icon}-down`,\n            className: classList('Post-vote Post-downvote', hasDownvoted && 'Post-vote--active'),\n            loading: this.voteLoading,\n            disabled: !canVote || !canSeeVotes,\n            onclick: () => onclick(false, !hasDownvoted),\n            'aria-label': app.translator.trans('fof-gamification.forum.post.downvote_button'),\n          })}\n      </div>,\n      10\n    );\n  });\n}\n","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport DiscussionListState from 'flarum/forum/states/DiscussionListState';\nimport LinkButton from 'flarum/common/components/LinkButton';\n\nexport default function () {\n  extend(IndexPage.prototype, 'navItems', function (items) {\n    if (!app.forum.attribute('canViewRankingPage')) {\n      return;\n    }\n\n    items.add(\n      'rankings',\n      LinkButton.component(\n        {\n          href: app.route('rankings'),\n          icon: 'fas fa-trophy',\n        },\n        app.translator.trans('fof-gamification.forum.nav.name')\n      ),\n      80\n    );\n  });\n\n  extend(DiscussionListState.prototype, 'sortMap', function (map) {\n    map.hot = '-hotness';\n  });\n}\n","import { extend } from 'flarum/common/extend';\nimport DiscussionListState from 'flarum/common/states/DiscussionListState';\n\nexport default function () {\n  extend(DiscussionListState.prototype, 'sortMap', function (map) {\n    map.votes = '-votes';\n  });\n}\n","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport DiscussionListItem from 'flarum/forum/components/DiscussionListItem';\nimport abbreviateNumber from 'flarum/common/utils/abbreviateNumber';\nimport icon from 'flarum/common/helpers/icon';\nimport setting from './helpers/setting';\n\nexport default function () {\n  if (!setting('showVotesOnDiscussionPage', true) || setting('useAlternateLayout', true)) {\n    return;\n  }\n\n  extend(DiscussionListItem.prototype, 'elementAttrs', function (attrs) {\n    if (!this.attrs.discussion.seeVotes()) {\n      return;\n    }\n\n    attrs.className += ' DiscussionListItem--withVotes';\n  });\n\n  extend(DiscussionListItem.prototype, 'infoItems', function (items) {\n    const discussion = this.attrs.discussion;\n\n    if (!discussion.seeVotes()) {\n      return;\n    }\n\n    items.add(\n      'discussion-votes',\n      <span className=\"DiscussionListItem-votes\" title={app.translator.trans('fof-gamification.forum.votes')}>\n        {icon('far fa-thumbs-up')}\n        {abbreviateNumber(this.attrs.discussion.votes())}\n      </span>,\n      20\n    );\n  });\n}\n","import { extend } from 'flarum/common/extend';\nimport app from 'flarum/forum/app';\nimport VoteNotification from './components/VoteNotification';\nimport NotificationGrid from 'flarum/forum/components/NotificationGrid';\nimport ItemList from 'flarum/common/utils/ItemList';\n\nexport default function addNotifications() {\n  app.notificationComponents.vote = VoteNotification;\n\n  extend(NotificationGrid.prototype, 'notificationTypes', function (items: ItemList<{ name: string; icon: string; label: any }>) {\n    const user = app.session?.user;\n\n    if (!user?.canHaveVotingNotifications?.()) return;\n\n    items.add('vote', {\n      name: 'vote',\n      icon: 'fas fa-thumbs-up',\n      label: app.translator.trans('fof-gamification.forum.notification.prefrences.vote'),\n    });\n  });\n}\n","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport DiscussionPage from 'flarum/forum/components/DiscussionPage';\nimport Voters from './components/Voters';\nimport type ItemList from 'flarum/common/utils/ItemList';\n\nimport type Mithril from 'mithril';\n\n/**\n * Adds our custom {@link Voters} component to the discussion sidebar.\n */\nexport default function addVotersToDiscussionPageSideBar() {\n  extend(DiscussionPage.prototype, 'sidebarItems', function (this: DiscussionPage, items: ItemList<Mithril.Chilren>) {\n    const discussion = this.discussion;\n    const posts = discussion!.posts() || [];\n    const firstPost = posts?.[0];\n\n    if (firstPost?.canSeeVotes?.() && firstPost?.seeVoters?.() && !!app.forum.attribute('fof-gamification-op-votes-only')) {\n      items.add('op-voters', <Voters post={firstPost} />, 90);\n    }\n  });\n}\n","import { extend } from 'flarum/common/extend';\nimport app from 'flarum/forum/app';\nimport UserPage from 'flarum/forum/components/UserPage';\nimport LinkButton from 'flarum/common/components/LinkButton';\nimport VotesUserPage from './components/VotesUserPage';\nimport setting from './helpers/setting';\n\nexport default function addUpvoteTabToUserProfile() {\n  app.routes['user.votes'] = { path: '/u/:username/votes', component: VotesUserPage };\n  extend(UserPage.prototype, 'navItems', function (items) {\n    const user = this.user;\n    const icon = setting('iconName') || 'thumbs';\n    items.add(\n      'votes',\n      <LinkButton href={app.route('user.votes', { username: user.slug() })} name=\"votes\" icon={`fas fa-fw fa-${icon}-up`}>\n        {app.translator.trans('fof-gamification.forum.user.votes_link')}\n      </LinkButton>,\n      85\n    );\n  });\n}\n","import app from 'flarum/forum/app';\n\nimport { extend } from 'flarum/common/extend';\n\nimport CommentPost from 'flarum/forum/components/CommentPost';\nimport Button from 'flarum/common/components/Button';\nimport abbreviateNumber from 'flarum/common/utils/abbreviateNumber';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport type ItemList from 'flarum/common/utils/ItemList';\n\nimport setting from './helpers/setting';\nimport saveVote from './helpers/saveVote';\n\nexport default function useAlternatePostVoteLayout() {\n  extend(CommentPost.prototype, 'actionItems', function (this: CommentPost, items: ItemList) {\n    if (this.attrs.post.isHidden()) return;\n\n    items.remove('votes');\n  });\n\n  extend(CommentPost.prototype, 'classes', function (this: CommentPost, classes: string[]) {\n    if (this.attrs.post.isHidden()) return;\n\n    const upvotesOnly = setting('upVotesOnly', true);\n\n    classes.push('votesAlternativeLayout');\n\n    if (upvotesOnly) {\n      classes.push('votesUpvotesOnly');\n    }\n  });\n\n  extend(CommentPost.prototype, 'headerItems', function (this: CommentPost, items: ItemList) {\n    const post = this.attrs.post;\n\n    if (post.isHidden()) return;\n    if (!post.canSeeVotes()) return;\n\n    const hasDownvoted = post.hasDownvoted();\n    const hasUpvoted = post.hasUpvoted();\n\n    const icon = setting('iconName') || 'thumbs';\n    const upvotesOnly = setting('upVotesOnly', true);\n\n    const canSeeVotes = post.canSeeVotes();\n\n    // We set canVote to true for guest users so that they can access the login by clicking the button\n    const canVote = !app.session.user || post.canVote();\n\n    const onclick = (upvoted, downvoted) =>\n      saveVote(post, upvoted, downvoted, (val) => {\n        this.voteLoading = val;\n      });\n\n    items.add(\n      'votes',\n      <div className=\"Post-votes alternateLayout\" data-upvotes-only={upvotesOnly}>\n        <Button\n          className=\"Post-voteButton Post-voteButton--up Button Button--icon Button--text\"\n          icon={`fas fa-fw fa-${icon}-up`}\n          data-active={hasUpvoted}\n          disabled={!canVote || this.voteLoading || !canSeeVotes}\n          onclick={() => onclick(!hasUpvoted, false)}\n          aria-label={app.translator.trans('fof-gamification.forum.post.upvote_button')}\n        />\n\n        <span class=\"Post-voteCount\">{abbreviateNumber(post.votes() || 0)}</span>\n\n        {!upvotesOnly && (\n          <Button\n            className=\"Post-voteButton Post-voteButton--down Button Button--icon Button--text\"\n            icon={`fas fa-fw fa-${icon}-down`}\n            data-active={hasDownvoted}\n            disabled={!canVote || this.voteLoading}\n            onclick={() => onclick(false, !hasDownvoted)}\n            aria-label={app.translator.trans('fof-gamification.forum.post.downvote_button')}\n          />\n        )}\n\n        {this.voteLoading && <LoadingIndicator display=\"inline\" size=\"small\" />}\n      </div>,\n      10000\n    );\n  });\n}\n"],"names":["reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","global","Object","freeSelf","self","root","Function","objectToString","prototype","toString","nativeMax","Math","max","nativeMin","min","now","Date","isObject","value","type","toNumber","isObjectLike","call","isSymbol","other","valueOf","replace","isBinary","test","slice","module","exports","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","undefined","apply","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","setTimeout","remainingWait","debounced","isInvoking","arguments","this","leadingEdge","cancel","clearTimeout","flush","_typeof","require","_regeneratorRuntime","e","__esModule","t","r","n","hasOwnProperty","o","defineProperty","i","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","arg","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","stop","rval","handle","complete","finish","delegateYield","runtime","regeneratorRuntime","accidentalStrictMode","globalThis","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","definition","key","get","window","obj","prop","_setPrototypeOf","bind","_inheritsLoose","flarum","core","compat","Rank","_Model","_proto","points","Model","color","models","VotesModal","_Modal","className","title","app","trans","oninit","vnode","loading","attrs","post","upvotes","downvotes","load","content","_this","m","LoadingIndicator","map","voters","user","Link","href","avatar","username","find","id","include","loaded","Modal","isBool","val","upvoted","downvoted","discussion","canVote","redraw","save","pushAttributes","votes","DiscussionControls","rankLabel","rank","style","backgroundColor","fetch","postId","firstPost","UpvotedNotification","_Notification","icon","setting","notification","subject","fromUser","excerpt","contentPlain","Notification","asyncGeneratorStep","Voters","_Component","_len","Array","_key","concat","subtreeRetainer","lastRenderVotes","_this2","SubtreeRetainer","_this2$attrs$post","onbeforeupdate","needsRebuild","onupdate","view","display","slug","Tooltip","text","_load","_callee","_context","_next","_throw","Component","VotesUserPage","_PostsUserPage","loadResults","offset","filter","voted","page","limit","loadLimit","sort","PostsUserPage","Extend","add","RankingImage","imgUrl","attribute","place","src","alt","RankingsPage","_Page","route","set","users","refresh","Button","onclick","loadMore","IndexPage","hero","listItems","sidebarItems","toArray","class","addOrdinalSuffix","force","clear","results","parseResults","locale","j","k","params","b","parseFloat","Page","commonExtend","Discussion","Post","hasMany","User","components","VoteNotification","_extends","assign","helpers","saveVote","matchClass","findMatchClass","extend","PostControls","items","seeVoters","show","CommentPost","hasDownvoted","hasUpvoted","upVotesOnly","canSeeVotes","voteLoading","classList","disabled","LinkButton","DiscussionListState","hot","node","String","split","includes","arr","children","isArray","nodeInChildren","currentValue","UserCard","count","profile_node","amt","Number","badges_node","ranks","splice","PostUser","_Number","header_node","el","tag","DiscussionListItem","seeVotes","abbreviateNumber","DiscussionPage","channels","pusher","data","getById","post_id","userId","user_id","debounce","unbind","vote","NotificationGrid","_app$session","canHaveVotingNotifications","label","posts","path","component","UserPage","subtree","check","vdom","upvotesOnly","altIcon","unshift","size","isHidden","remove","classes"],"sourceRoot":""}