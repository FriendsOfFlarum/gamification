{"version":3,"sources":["webpack://@reflar/gamification/webpack/bootstrap","webpack://@reflar/gamification/external \"flarum.core.compat['app']\"","webpack://@reflar/gamification/external \"flarum.core.compat['extend']\"","webpack://@reflar/gamification/external \"flarum.core.compat['Model']\"","webpack://@reflar/gamification/external \"flarum.core.compat['components/Button']\"","webpack://@reflar/gamification/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@reflar/gamification/./src/common/models/Rank.js","webpack://@reflar/gamification/external \"flarum.core.compat['utils/mixin']\"","webpack://@reflar/gamification/external \"flarum.core.compat['components/Page']\"","webpack://@reflar/gamification/external \"flarum.core.compat['components/UploadImageButton']\"","webpack://@reflar/gamification/external \"flarum.core.compat['components/PermissionGrid']\"","webpack://@reflar/gamification/external \"flarum.core.compat['components/Switch']\"","webpack://@reflar/gamification/./src/admin/components/SettingsPage.js","webpack://@reflar/gamification/./src/admin/addSettingsPage.js","webpack://@reflar/gamification/./src/admin/index.js","webpack://@reflar/gamification/external \"flarum.core.compat['components/AdminNav']\"","webpack://@reflar/gamification/external \"flarum.core.compat['components/AdminLinkButton']\"","webpack://@reflar/gamification/external \"flarum.core.compat['components/Alert']\"","webpack://@reflar/gamification/external \"flarum.core.compat['utils/saveSettings']\"","webpack://@reflar/gamification/./admin.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","flarum","core","compat","_inheritsLoose","subClass","superClass","constructor","__proto__","__webpack_exports__","Rank","mixin","Model","points","attribute","color","SettingsPage","init","_this","this","fields","switches","ranks","app","store","all","values","settingsPrefix","settings","data","forEach","prop","addPrefix","newRank","view","_this2","className","onsubmit","translator","trans","undefined","convertedLikes","Button","component","type","children","onclick","request","url","forum","method","then","number","map","rank","style","placeholder","oninput","withAttr","updatePoints","updateName","updateColor","icon","deleteRank","addRank","rankAmt","iconName","Switch","state","autoUpvotePosts","onchange","pointsPlaceholder","customRankingImages","blockedUsers","UploadImageButton_default","a","loading","disabled","changed","save","rankToDelete","_this3","delete","some","id","splice","_this4","createRecord","push","redraw","_this5","switchesCheck","e","_this6","preventDefault","alerts","dismiss","successAlert","saveSettings","show","Alert","catch","window","location","reload","Page","addSettingsPage","routes","path","extensionSettings","route","extend","AdminNav","items","add","AdminLinkButton","href","description","initializers","models","PermissionGrid","label","permission","allowGuest","_src_common__WEBPACK_IMPORTED_MODULE_0__","__WEBPACK_IMPORT_KEY__"],"mappings":"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","file":"admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 38);\n","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['components/Button'];","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import Model from 'flarum/Model';\r\nimport mixin from 'flarum/utils/mixin';\r\n\r\nexport default class Rank extends mixin(Model, {\r\n  points: Model.attribute('points'),\r\n  name: Model.attribute('name'),\r\n  color: Model.attribute('color')\r\n}) {}","module.exports = flarum.core.compat['utils/mixin'];","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['components/UploadImageButton'];","module.exports = flarum.core.compat['components/PermissionGrid'];","module.exports = flarum.core.compat['components/Switch'];","import Alert from \"flarum/components/Alert\";\nimport Page from 'flarum/components/Page';\nimport Button from \"flarum/components/Button\";\nimport UploadImageButton from 'flarum/components/UploadImageButton';\nimport saveSettings from \"flarum/utils/saveSettings\";\nimport Switch from \"flarum/components/Switch\";\n\nexport default class SettingsPage extends Page {\n\n    init() {\n\n        this.fields = [\n            'convertedLikes',\n            'amountPerPost',\n            'amountPerDiscussion',\n            'postStartAmount',\n            'rankAmt',\n            'iconName',\n            'blockedUsers',\n            'pointsPlaceholder'\n        ];\n\n        this.switches = [\n            'autoUpvotePosts',\n            'customRankingImages'\n        ];\n\n        this.ranks = app.store.all('ranks');\n\n        this.values = {};\n\n        this.settingsPrefix = 'reflar.gamification';\n\n        const settings = app.data.settings;\n\n        this.fields.forEach(key =>\n            this.values[key] = m.prop(settings[this.addPrefix(key)])\n        );\n\n        this.switches.forEach(key =>\n            this.values[key] = m.prop(settings[this.addPrefix(key)] === '1')\n        );\n\n        this.newRank = {\n            'points': m.prop(''),\n            'name': m.prop(''),\n            'color': m.prop('')\n        };\n    }\n\n    /**\n     * @returns {*}\n     */\n    view() {\n        return [\n            m('div', {className: 'SettingsPage'}, [\n                m('div', {className: 'container'}, [\n                    m('form', {onsubmit: this.onsubmit.bind(this)}, [\n                        m('div', {className: 'helpText'}, app.translator.trans('reflar-gamification.admin.page.convert.help')),\n                        (this.values.convertedLikes() === undefined ? (\n                            Button.component({\n                                type: 'button',\n                                className: 'Button Button--warning Ranks-button',\n                                children: app.translator.trans('reflar-gamification.admin.page.convert.button'),\n                                onclick: () => {\n                                    app.request({\n                                        url: app.forum.attribute('apiUrl') + '/reflar/gamification/convert',\n                                        method: 'POST'\n                                    }).then(this.values.convertedLikes('converting'));\n                                }\n                            })\n                        ) : (this.values.convertedLikes() === 'converting' ? (\n                            m('label', {}, app.translator.trans('reflar-gamification.admin.page.convert.converting'))\n                        ) : (m('label', {}, app.translator.trans('reflar-gamification.admin.page.convert.converted', {number: this.values.convertedLikes()}))))),\n\n                        m('fieldset', {className: 'SettingsPage-ranks'}, [\n                            m('legend', {}, app.translator.trans('reflar-gamification.admin.page.ranks.title')),\n                            m('label', {}, app.translator.trans('reflar-gamification.admin.page.ranks.ranks')),\n                            m('div', {className: 'helpText'}, app.translator.trans('reflar-gamification.admin.page.ranks.help.help')),\n                            m('div', {className: 'Ranks--Container'},\n                                this.ranks.map(rank => {\n                                    return m('div', {style: \"float: left;\"}, [\n                                        m('input', {\n                                            className: 'FormControl Ranks-number',\n                                            type: 'number',\n                                            value: rank.points(),\n                                            placeholder: app.translator.trans('reflar-gamification.admin.page.ranks.help.points'),\n                                            oninput: m.withAttr('value', this.updatePoints.bind(this, rank))\n                                        }),\n                                        m('input', {\n                                            className: 'FormControl Ranks-name',\n                                            value: rank.name(),\n                                            placeholder: app.translator.trans('reflar-gamification.admin.page.ranks.help.name'),\n                                            oninput: m.withAttr('value', this.updateName.bind(this, rank))\n                                        }),\n                                        m('input', {\n                                            className: 'FormControl Ranks-color',\n                                            value: rank.color(),\n                                            placeholder: app.translator.trans('reflar-gamification.admin.page.ranks.help.color'),\n                                            oninput: m.withAttr('value', this.updateColor.bind(this, rank))\n                                        }),\n                                        Button.component({\n                                            type: 'button',\n                                            className: 'Button Button--warning Ranks-button',\n                                            icon: 'fa fa-times',\n                                            onclick: this.deleteRank.bind(this, rank)\n                                        }),\n                                    ])\n                                }),\n                                m('div', {style: \"float: left; margin-bottom: 15px\"}, [\n                                    m('input', {\n                                        className: 'FormControl Ranks-number',\n                                        value: this.newRank.points(),\n                                        placeholder: app.translator.trans('reflar-gamification.admin.page.ranks.help.points'),\n                                        type: 'number',\n                                        oninput: m.withAttr('value', this.newRank.points)\n                                    }),\n                                    m('input', {\n                                        className: 'FormControl Ranks-name',\n                                        value: this.newRank.name(),\n                                        placeholder: app.translator.trans('reflar-gamification.admin.page.ranks.help.name'),\n                                        oninput: m.withAttr('value', this.newRank.name)\n                                    }),\n                                    m('input', {\n                                            className: 'FormControl Ranks-color',\n                                            value: this.newRank.color(),\n                                            placeholder: app.translator.trans('reflar-gamification.admin.page.ranks.help.color'),\n                                            oninput: m.withAttr('value', this.newRank.color)\n                                        }\n                                    ),\n                                    Button.component({\n                                        type: 'button',\n                                        className: 'Button Button--warning Ranks-button',\n                                        icon: 'fa fa-plus',\n                                        onclick: this.addRank.bind(this)\n                                    }),\n                                ])\n                            ),\n                            m('label', {}, app.translator.trans('reflar-gamification.admin.page.ranks.number_title')),\n                            m('input', {\n                                className: 'FormControl Ranks-default',\n                                value: this.values.rankAmt() || '',\n                                placeholder: 2,\n                                oninput: m.withAttr('value', this.values.rankAmt)\n                            }),\n                            m('legend', {}, app.translator.trans('reflar-gamification.admin.page.votes.title')),\n                            m('label', {}, app.translator.trans('reflar-gamification.admin.page.votes.icon_name')),\n                            m('div', {className: 'helpText'}, app.translator.trans('reflar-gamification.admin.page.votes.icon_help')),\n                            m('input', {\n                                className: 'FormControl Ranks-default',\n                                value: this.values.iconName() || '',\n                                placeholder: 'thumbs',\n                                oninput: m.withAttr('value', this.values.iconName)\n                            }),\n                            Switch.component({\n                                state: this.values.autoUpvotePosts() || false,\n                                children: app.translator.trans('reflar-gamification.admin.page.votes.auto_upvote'),\n                                onchange: this.values.autoUpvotePosts,\n                                className: 'votes-switch'\n                            }),\n                            m('label', {}, app.translator.trans('reflar-gamification.admin.page.votes.points_title')),\n                            m('input', {\n                                className: 'FormControl Ranks-default',\n                                value: this.values.pointsPlaceholder() || '',\n                                placeholder: app.translator.trans('reflar-gamification.admin.page.votes.points_placeholder') + '{points}',\n                                oninput: m.withAttr('value', this.values.pointsPlaceholder)\n                            }),\n                            m('legend', {}, app.translator.trans('reflar-gamification.admin.page.rankings.title')),\n                            Switch.component({\n                                state: this.values.customRankingImages() || false,\n                                children: app.translator.trans('reflar-gamification.admin.page.rankings.enable'),\n                                onchange: this.values.customRankingImages,\n                                className: 'votes-switch'\n                            }),\n                            m('label', {}, app.translator.trans('reflar-gamification.admin.page.rankings.blocked.title')),\n                            m('input', {\n                                className: 'FormControl Ranks-blocked',\n                                placeholder: app.translator.trans('reflar-gamification.admin.page.rankings.blocked.placeholder'),\n                                value: this.values.blockedUsers() || '',\n                                oninput: m.withAttr('value', this.values.blockedUsers)\n                            }),\n                            m('div', { className: 'helpText' }, app.translator.trans('reflar-gamification.admin.page.rankings.blocked.help')),\n                            m('label', { className: 'Upload-label' }, app.translator.trans('reflar-gamification.admin.page.rankings.custom_image_1')),\n                            <UploadImageButton className=\"Upload-button\" name=\"topimage1\" />,\n                            m('br'),\n                            m('label', { className: 'Upload-label' }, app.translator.trans('reflar-gamification.admin.page.rankings.custom_image_2')),\n                            <UploadImageButton className=\"Upload-button\" name=\"topimage2\" />,\n                            m('br'),\n                            m('label', { className: 'Upload-label' }, app.translator.trans('reflar-gamification.admin.page.rankings.custom_image_3')),\n                            <UploadImageButton className=\"Upload-button\" name=\"topimage3\" />,\n                            m('br'),\n                            Button.component({\n                                type: 'submit',\n                                className: 'Button Button--primary Ranks-save',\n                                children: app.translator.trans('reflar-gamification.admin.page.save_settings'),\n                                loading: this.loading,\n                                disabled: !this.changed()\n                            })\n                        ])\n                    ])\n                ])\n            ])\n        ];\n    }\n\n\n    updateName(rank, value) {\n        rank.save({name: value});\n    }\n\n    updatePoints(rank, value) {\n        rank.save({points: value});\n    }\n\n    updateColor(rank, value) {\n        rank.save({color: value});\n    }\n\n    deleteRank(rankToDelete) {\n        rankToDelete.delete();\n        this.ranks.some((rank, i) => {\n            if (rank.data.id === rankToDelete.data.id) {\n                this.ranks.splice(i, 1);\n                return true;\n            }\n        })\n    }\n\n    addRank(rank) {\n        app.store.createRecord('ranks').save({\n            points: this.newRank.points(),\n            name: this.newRank.name(),\n            color: this.newRank.color()\n        }).then(\n            rank => {\n                this.newRank.color('');\n                this.newRank.name('');\n                this.newRank.points('');\n                this.ranks.push(rank);\n                m.redraw();\n            }\n        );\n    }\n\n\n    /**\n     *\n     * @returns boolean\n     */\n    changed() {\n        var switchesCheck = this.switches.some(key => this.values[key]() !== (app.data.settings[this.addPrefix(key)] == '1'));\n        var fieldsCheck = this.fields.some(key => this.values[key]() !== app.data.settings[this.addPrefix(key)]);\n        return fieldsCheck || switchesCheck;\n    }\n\n    /**\n     * @param e\n     */\n    onsubmit(e) {\n        e.preventDefault();\n\n        if (this.loading) return;\n\n        this.loading = true;\n\n        app.alerts.dismiss(this.successAlert);\n\n        const settings = {};\n\n        this.switches.forEach(key => settings[this.addPrefix(key)] = this.values[key]());\n        this.fields.forEach(key => settings[this.addPrefix(key)] = this.values[key]());\n\n        saveSettings(settings)\n            .then(() => {\n                app.alerts.show(this.successAlert = new Alert({\n                    type: 'success',\n                    children: app.translator.trans('core.admin.basics.saved_message')\n                }));\n            })\n            .catch(() => {\n            })\n            .then(() => {\n                this.loading = false;\n                window.location.reload();\n            });\n    }\n\n    /**\n     * @returns string\n     */\n    addPrefix(key) {\n        return this.settingsPrefix + '.' + key;\n    }\n}\n","import {extend} from \"flarum/extend\";\r\nimport AdminNav from \"flarum/components/AdminNav\";\r\nimport AdminLinkButton from \"flarum/components/AdminLinkButton\";\r\nimport SettingsPage from \"./components/SettingsPage\";\r\n\r\nexport default function () {\r\n    app.routes['reflar-gamification'] = {path: '/reflar/gamification', component: SettingsPage.component()};\r\n\r\n    app.extensionSettings['reflar-gamification'] = () => m.route(app.route('reflar-gamification'));\r\n\r\n    extend(AdminNav.prototype, 'items', items => {\r\n        items.add('reflar-gamification', AdminLinkButton.component({\r\n            href: app.route('reflar-gamification'),\r\n            icon: 'fas fa-thumbs-up',\r\n            children: 'Gamification',\r\n            description: app.translator.trans('reflar-gamification.admin.nav.desc')\r\n        }));\r\n    });\r\n}\r\n","import app from 'flarum/app'\r\nimport {extend} from 'flarum/extend'\r\nimport PermissionGrid from 'flarum/components/PermissionGrid'\r\nimport addSettingsPage from './addSettingsPage'\r\nimport Rank from '../common/models/Rank'\r\n\r\napp.initializers.add('reflar-gamification', app => {\r\n    app.store.models.ranks = Rank;\r\n\r\n    extend(PermissionGrid.prototype, 'replyItems', items => {\r\n        items.add('Vote', {\r\n            icon: 'fas fa-thumbs-up',\r\n            label: app.translator.trans('reflar-gamification.admin.permissions.vote_label'),\r\n            permission: 'discussion.vote'\r\n        })\r\n    });\r\n\r\n    extend(PermissionGrid.prototype, 'viewItems', items => {\r\n        items.add('canSeeVotes', {\r\n            icon: 'fas fa-info-circle',\r\n            label: app.translator.trans('reflar-gamification.admin.permissions.see_votes_label'),\r\n            permission: 'discussion.canSeeVotes'\r\n        });\r\n        items.add('canViewRankingPage', {\r\n            icon: 'fas fa-trophy',\r\n            label: app.translator.trans('reflar-gamification.admin.permissions.see_ranking_page'),\r\n            permission: 'reflar.gamification.viewRankingPage',\r\n            allowGuest: true\r\n        })\r\n    });\r\n\r\n    addSettingsPage();\r\n});\r\n","module.exports = flarum.core.compat['components/AdminNav'];","module.exports = flarum.core.compat['components/AdminLinkButton'];","module.exports = flarum.core.compat['components/Alert'];","module.exports = flarum.core.compat['utils/saveSettings'];","/*\r\n * This file is part of Flarum.\r\n *\r\n * (c) Toby Zerner <toby.zerner@gmail.com>\r\n *\r\n * For the full copyright and license information, please view the LICENSE\r\n * file that was distributed with this source code.\r\n */\r\n\r\nexport * from './src/common';\r\nexport * from './src/admin';"],"sourceRoot":""}